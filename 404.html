<h1 id="text"></h1>
<script>
fetch("https://raw.githubusercontent.com/to3b/tobesURLshortener/refs/heads/main/hello.txt")
  .then(res => res.text()) // fetch as text
  .then(text => {
      let dict;
      try {
          dict = JSON.parse(text); // parse JSON
      } catch (e) {
          document.getElementById("text").innerText = "Invalid JSON";
          return;
      }

      const currentURL = window.location.href;
      if(dict[currentURL]) {
          window.location.href = dict[currentURL];
      } else {
          document.getElementById("text").innerText = "No URL redirect";
      }
  })
  .catch(() => {
      document.getElementById("text").innerText = "No URL redirect";
  });
</script>
